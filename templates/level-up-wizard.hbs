<form>
  <h1 class='fancy-font'>
    {{localize
      'PF2E_LEVEL_UP_WIZARD.menu.header.name'
      actorName=actorName
      targetLevel=targetLevel
    }}
  </h1>
  <p>{{localize 'PF2E_LEVEL_UP_WIZARD.menu.header.description'}}</p>
  {{#if showFeatPrerequisites}}
    <p class='flavor-text'>
      <strong>
        {{localize 'PF2E_LEVEL_UP_WIZARD.menu.notes.note'}}
      </strong>
      {{localize 'PF2E_LEVEL_UP_WIZARD.menu.notes.featsPrereq'}}
    </p>
  {{/if}}

  {{! Class Feats }}
  {{#if classFeats}}
    {{> featDropdown
      name="classFeats"
      feats=classFeats
      headerKey='PF2E_LEVEL_UP_WIZARD.menu.classFeats.header'
      labelKey='PF2E_LEVEL_UP_WIZARD.menu.classFeats.label'
      showFeatPrerequisites=showFeatPrerequisites
    }}
    <div class='checkbox-row'>
      <label for='includeArchetypeFeats'>
        {{localize 'PF2E_LEVEL_UP_WIZARD.menu.classFeats.checkbox'}}
      </label>
      <input
        type='checkbox'
        id='includeArchetypeFeats'
        name='includeArchetypeFeats'
        class='form-checkbox'
        {{checked includeArchetypeFeats}}
      />
    </div>
  {{/if}}

  {{! Ancestry Feats }}
  {{#if ancestryFeats}}
    {{> featDropdown
      name="ancestryFeats"
      feats=ancestryFeats
      headerKey='PF2E_LEVEL_UP_WIZARD.menu.ancestryFeats.header'
      labelKey='PF2E_LEVEL_UP_WIZARD.menu.ancestryFeats.label'
      showFeatPrerequisites=showFeatPrerequisites
    }}
  {{/if}}

  {{! Skill Feats }}
  {{#if skillFeats}}
    {{> featDropdown
      name="skillFeats"
      feats=skillFeats
      headerKey='PF2E_LEVEL_UP_WIZARD.menu.skillFeats.header'
      labelKey='PF2E_LEVEL_UP_WIZARD.menu.skillFeats.label'
      showFeatPrerequisites=showFeatPrerequisites
    }}
  {{/if}}

  {{! General Feats }}
  {{#if generalFeats}}
    {{> featDropdown
      name="generalFeats"
      feats=generalFeats
      headerKey='PF2E_LEVEL_UP_WIZARD.menu.generalFeats.header'
      labelKey='PF2E_LEVEL_UP_WIZARD.menu.generalFeats.label'
      showFeatPrerequisites=showFeatPrerequisites
    }}
  {{/if}}

  {{! Skill Increases }}
  {{#if skills}}
    <h3>
      <strong>
        {{localize 'PF2E_LEVEL_UP_WIZARD.menu.skillIncreases.header'}}
      </strong>
    </h3>
    <div class='selection-row'>
      <label for='skills'>
        {{localize 'PF2E_LEVEL_UP_WIZARD.menu.skillIncreases.label'}}
      </label>
      <select
        name='skills'
        id='skills'
        class='form-select-skill'
        data-required='true'
      >
        <option value='' disabled selected>
          {{localize 'PF2E_LEVEL_UP_WIZARD.menu.dropdown.placeholder'}}
        </option>
        {{#each skills}}
          <option value={{label}} class={{class}}>{{label}}</option>
        {{/each}}
      </select>
    </div>
  {{/if}}

  {{! Class Features }}
  {{#if hasFeaturesToDisplay}}
    <h3>
      <strong>
        {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.class.header'}}
      </strong>
    </h3>

    {{! Innate Features }}
    {{#if features.featuresForLevel.length}}
      {{#each features.featuresForLevel}}
        <p>
          <strong>
            {{this.name}}
            ({{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.class.noAction'}}):
          </strong>
          {{{this.description}}}
        </p>
      {{/each}}
    {{/if}}

    {{! Ability Score Increases }}
    {{#if features.abilityScoreIncreaseLevel}}
      <p>
        <strong>
          {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.abilityScore.header'}}
        </strong>
        {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.update'}}
        <em>
          {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.tab.character'}}
        </em>
        {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.sheet'}}
      </p>
    {{/if}}

    {{! Spellcasting }}
    {{#if features.spellcasting}}
      {{! New Spell Rank }}
      {{#if features.newSpellRankLevel}}
        <p>
          <strong>
            {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.spellcasting.rank'}}
          </strong>
          {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.update'}}
          <em>
            {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.tab.spellcasting'}}
          </em>
          {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.sheet'}}
        </p>
        {{! New Spell Slots }}
      {{else}}
        <p>
          <strong>
            {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.spellcasting.slots'}}
          </strong>
          {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.update'}}
          <em>
            {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.tab.spellcasting'}}
          </em>
          {{localize 'PF2E_LEVEL_UP_WIZARD.menu.features.manual.sheet'}}
        </p>
      {{/if}}
    {{/if}}
  {{/if}}

  {{! Submit Button }}
  <div style='margin-top: 20px;'>
    <button type='submit' class='btn btn-primary' disabled>Submit</button>
  </div>
</form>